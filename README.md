# Enefficient-API
Created by: Matthew Dombrady, Sagar Thomas, Ardhendu Barge for SFWRENG 2XB3 Final Project
## About
Enefficient is a REST API service made with Spring.  The goal of this project is to calculate total energy usage of a user by looking up
their appliances on our database (MongoDB) and then recommend replacing appliances that are more inefficient.
The live project can be found here:

https://enefficient.herokuapp.com/


## Run locally
The Enefficient API uses the Gradle build system to compile all dependencies and compile the Java code itself. All JUnit
test cases are run automatically when gradle builds and the build will only succeed when all test cases pass. 

Do NOT try to run this project as a normal Java eclipse project as this project compiles down to an REST API and is not suited
to run in the eclipse console.

A terminal is required to deploy this run this project.
		
		UNIX Systems	- built-in terminal should function fine
		Windows 		- Command Prompt or Windows Powershell or Git Bash
		
Make sure to cd into the root directory of the project which will look like this:

			├──.gradle
			├──.settings
			├── bin
			├── build
			├── gradle
			├── src
			├──.classpath
			├──.gitignore
			├──.project
			├── build.gradle
			├── Deployment_and_Usage_Instructions
			├── gradlew
			├── gradlew.bat
			├── settings.gradle
			├── build.gradle
			├── settings.gradle
		
The gradle version of this project is 4.6 so if thats installed on your computer, use build option 2.

If you have a different version of gradle or do not have gradle installed at all or you have no idea, use build option 1.

** To check the version of gradle, run the following command on any of the previously mentioned terminals above:
			
			gradle --version

	
Build Option 1 (Preferred): 
			
			gradlew build (cmd prompt)    or   ./gradlew build  (git bash, powershell, UNIX terminals)  or .\gradlew build  (cmd prompt, powershell)
						
Build Option 2: 
	
			gradle build
			

** gradlew uses the wrapper configured with the project that installs the correct version of gradle to your machine

After the build is done run this command to deploy to local host:

			java -jar build/libs/gs-rest-service-0.1.0.jar
			
This will deploy the service to the address localhost:8080/ which you can open on any browser. If this succeeds, move to the usage portion of this document
and assume localhost:8080 is '*'. (more explained below)


If the by any chance the build does not succeed, the hosted version of the application is available at:
							
							https://enefficient.herokuapp.com/

The version number at shown should match with the version number at the top of this doc.

**As we are using a free tier subscription for our servers on Heroku, please give it some time for the page to load. Subsequent calls will be faster after the first

##  Usage   

The API features are all mapped into specific URLs extending from the domain name. https://enefficient.herokuapp.com will be referred to as '*'.

                           (so */mymethod really means => https://enefficient.herokuapp.com/mymethod)
                           
                           
          */version ----------------------- Shows details about the api such as version number and a quick description
          
          */users/{userID} ----------------- Shows the details of a specific user, the user id is generated by Firebase (our authentication api) and is
          									a long alphanumeric value that can only be retrieved by client-side operations with Firebase. For testing purposes
          									however, we have created a test account with the id "user32" that can be used as a sample. So, */users/user32
          									From this point on, we will use "user32" in the addresses.
          
          */users/user32/find/user32/find?type={type}&brand={brand}&model={model} ------- Finds an appliance given the specified information and adds it to the user's account,
          																				  any appliance in the appliance dataset would work (pick any from appliances.json 
          																				  in data/ or from the appliance folder) one example is 
          																			
          																				  				type : Dryer
          																				  				brand : Huebsch
          																				  				model : LEZ27 
     	
          */users/user32/score--------------- Calculates the score and returns it
          
          */users/user32/recommend------------ Gives a recommendation for the user if applicable
